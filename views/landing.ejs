<% layout('layouts/boilerplate') -%>

<!-- Hero Section -->
<section class="hero py-5">
  <div class="container text-center">
    <h1 class="display-4 fw-bold">Discover & Book Amazing Events!</h1>
    <p class="lead">Concerts, workshops, and more â€” all in one place.</p>
    <div class="mt-4">
      <a href="/events" class="btn btn-primary primary-btn btn-lg mx-2"
        >Browse Events</a
      >
      <a href="/signup" class="btn btn-primary primary-btn btn-lg mx-2"
        >Sign Up</a
      >
    </div>
  </div>
</section>

<section class="py-4">
  <div class="container">
    <% if (upcomingEvents.length > 0) {%>
    <h2 class="text-center mb-4">Upcoming Events</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4">
      <% upcomingEvents.forEach(event => { %>
      <div class="col">
        <div class="card h-100 shadow-sm">
          <img
            src="<%= event.image.url %>"
            class="card-img-top"
            alt="Event Image"
            style="height: 200px; object-fit: cover"
          />
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">
              <%= event.title.length > 35 ? event.title.substring(0,
              event.title.substring(0, 35).lastIndexOf(" ")).trim() + "..." :
              event.title %>
            </h5>
            <p class="text-muted">
              <i class="fa-regular fa-calendar"></i>
              <%= new Date(event.date).toLocaleDateString("en-US", { year:
              "numeric", month: "long", day: "numeric" }) %>
            </p>
            <div class="mt-auto">
              <a
                href="/events/<%= event._id %>"
                class="btn btn-outline-primary primary-outline-btn w-100"
              >
                View Details
              </a>
            </div>
          </div>
        </div>
      </div>
      <% }) %>
    </div>
    <% } %>
  </div>
</section>

<!-- Call-to-Action -->
<section class="py-5 host-section">
  <div class="container text-center">
    <h3 class="mb-3">Hosting an event? Get started as an organizer!</h3>
    <a href="/organizer-info" class="btn btn-primary primary-btn btn-lg"
      >Learn More</a
    >
  </div>
</section>
